<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="homepage.css">
    <script src="homepage.js"></script>
</head>
<body>
    <div class="spacemenu" style="width: 1vw; height: 64px;"></div>

    <div class="main">
        <div class="main_img" id="mainimg">
            <img src="../img/homepage/main.jpg" alt="" srcset="" id="main_img">
        </div>
    
        <div class="aboutus background_test part">
            <div class="partname">
                <hr>
                <p>Giới thiệu</p>
            </div>
    
            <div class="partcontent abtuscontent">
                <div class="abtusinto">
                    <p>Đây là một dự án...</p>
                    <button class="tolink" id="aboutus" onclick="hptoabtus()">Xem thêm</button>
                </div>

                <div class="abtuslogo">
                    <img src="../img/homepage/logo.jpg" alt="" srcset="">
                    <p>*Hình ảnh dự án*</p>
                </div>
            </div>
        </div>
    
        <div class="dictionary background_test part">
            <div class="partname">
                <hr>
                <p>Thư viện</p>
            </div>
    
            <div class="partcontent">
                <div class="slider">
                    <div class="arrow left">
                        <img src="https://img.icons8.com/?size=256&id=37320&format=png" alt="Previous">
                    </div>
                    <div class="slides">
                        <div class="slide" id="slide1">
                            <div class="dictimg">
                                <div class="description_container">
                                    <div class="plantcontainer first_plant" id="plant1">
                                        <p class="plantname">Cây ngô</p>
                                            <ul class="description">
                                                <li>Mô tả 1</li>
                                                <li>Mô tả 2</li>
                                                <li>Mô tả 3</li>
                                                <li>Mô tả 4</li>
                                            </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slide" id="slide2">
                            <div class="dictimg">
                                <div class="description_container">
                                    <div class="plantcontainer first_plant" id="plant1">
                                        <p class="plantname">Cây ổi</p>
                                            <ul class="description">
                                                <li>Mô tả 1</li>
                                                <li>Mô tả 2</li>
                                                <li>Mô tả 3</li>
                                                <li>Mô tả 4</li>
                                            </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slide" id="slide3">
                            <div class="dictimg">
                                <div class="description_container">
                                    <div class="plantcontainer first_plant" id="plant1">
                                        <p class="plantname">Cây lúa</p>
                                            <ul class="description">
                                                <li>Mô tả 1</li>
                                                <li>Mô tả 2</li>
                                                <li>Mô tả 3</li>
                                                <li>Mô tả 4</li>
                                            </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slide" id="slide4">
                            <div class="dictimg">
                                <div class="description_container">
                                    <div class="plantcontainer first_plant" id="plant1">
                                        <p class="plantname">Cây cà chua</p>
                                            <ul class="description">
                                                <li>Mô tả 1</li>
                                                <li>Mô tả 2</li>
                                                <li>Mô tả 3</li>
                                                <li>Mô tả 4</li>
                                            </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="arrow right">
                        <img src="https://img.icons8.com/?size=256&id=37321&format=png" alt="Next">
                    </div>
                    <div class="dots">
                        <div class="dot active"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>

               

                <button class="tolink" id="dictionary" onclick="hptodict()">Xem thêm</button>
            </div>
    
        <div class="upload background_test part">
            <div class="partname">
                <hr>
                <p>Tải lên</p>
            </div>
    
            <div class="partcontent">
                <form class="dropzone-box">
                    <h2>Tải lên file để dự đoán</h2>
                    <p>Nhấn hoặc kéo file cần dự đoán vào</p>
                    <div class="dropzone-area">
                        <div class="file-upload-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-cloud-upload" width="24"
                                height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1" />
                                <path d="M9 15l3 -3l3 3" />
                                <path d="M12 12l0 9" />
                            </svg>
                        </div>
                        <input type="file" required id="upload-file" name="uploaded-file">
                        <p class="file-info">Chưa có file</p>
                    </div>
                    <div class="dropzone-actions">
                        <button type="reset" class="upload">
                            Cancel
                        </button>
                        <button id="submit-button" type="submit" class="upload">
                            Save
                        </button>
                    </div>
                </form>
            </div>
        </div>
    
        <div class="uav background_test part">
            <div class="partname">
                <hr>
                <p>UAV</p>
            </div>
            
            <img src="../img/uav/droneview-drone-view.gif" alt="" srcset="">
            <div>
                <p class="note"> Nhập mã liên kết để kiểm tra uav tương ứng</p>
                <button class="tolink" id="uav" onclick="hptouav()">Xem thêm</button>
            </div>
        </div>
    </div>

    <script>
        //Thư viện
        const slider = document.querySelector('.slider');
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        const arrows = document.querySelectorAll('.arrow');

        let currentSlide = 0;
        let timer = null;

        const init = () => {
            slides.forEach((slide, index) => {
                slide.style.left = `${index * 100}%`;
            });

            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    changeSlide(index);
                });
            });

            arrows.forEach((arrow) => {
                arrow.addEventListener('click', () => {
                    if (arrow.classList.contains('left')) {
                        changeSlide(currentSlide - 1);
                    } else {
                        changeSlide(currentSlide + 1);
                    }
                });
            });

            timer = setInterval(() => {
                changeSlide(currentSlide + 1);
            }, 10000);

            slider.addEventListener('mouseover', () => {
                clearInterval(timer);
            });

            slider.addEventListener('mouseout', () => {
                timer = setInterval(() => {
                    changeSlide(currentSlide + 1);
                }, 10000);
            });
        };

        const changeSlide = (index) => {
            clearInterval(timer);

            if (index > slides.length - 1) {
                currentSlide = 0;
            } else if (index < 0) {
                currentSlide = slides.length - 1;
            } else {
                currentSlide = index;
            }

            slides.forEach((slide, slideIndex) => {
                slide.style.transition = `transform 0.5s ease-in-out`;
                slide.style.transform = `translateX(-${currentSlide * 100}%)`;
                if (slideIndex === currentSlide) {
                    slide.style.transition = 'none';
                }
            });

            dots.forEach((dot, dotIndex) => {
                if (dotIndex === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });

            timer = setInterval(() => {
                changeSlide(currentSlide + 1);
            }, 10000);
        };

        init();

        //upload
        const dropzoneBox = document.getElementsByClassName("dropzone-box")[0];
        const inputFiles = document.querySelectorAll(
        ".dropzone-area input[type='file']"
        );

        const inputElement = inputFiles[0];

        const dropZoneElement = inputElement.closest(".dropzone-area");

        inputElement.addEventListener("change", (e) => {
        if (inputElement.files.length) {
            updateDropzoneFileList(dropZoneElement, inputElement.files[0]);
        }
        });

        dropZoneElement.addEventListener("dragover", (e) => {
        e.preventDefault();
        dropZoneElement.classList.add("dropzone--over");
        });

        ["dragleave", "dragend"].forEach((type) => {
        dropZoneElement.addEventListener(type, (e) => {
            dropZoneElement.classList.remove("dropzone--over");
        });
        });

        dropZoneElement.addEventListener("drop", (e) => {
        e.preventDefault();

        if (e.dataTransfer.files.length) {
            inputElement.files = e.dataTransfer.files;

            updateDropzoneFileList(dropZoneElement, e.dataTransfer.files[0]);
        }

        dropZoneElement.classList.remove("dropzone--over");
        });

        const updateDropzoneFileList = (dropzoneElement, file) => {
        let dropzoneFileMessage = dropzoneElement.querySelector(".file-info");

        dropzoneFileMessage.innerHTML = `
                ${file.name}, ${file.size} bytes
            `;
        };

        dropzoneBox.addEventListener("reset", (e) => {
        let dropzoneFileMessage = dropZoneElement.querySelector(".file-info");

        dropzoneFileMessage.innerHTML = `No Files Selected`;
        });

        dropzoneBox.addEventListener("submit", (e) => {
        e.preventDefault();
        const myFiled = document.getElementById("upload-file");
        console.log(myFiled.files[0]);
        });

    </script>

</body>
</html>